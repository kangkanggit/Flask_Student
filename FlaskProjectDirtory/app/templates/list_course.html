{% extends 'blank.html' %}
{% block title %}
    课程的展示页面
{% endblock %}
{% block style %}
    <link href="/static/vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
{% endblock %}
{% block tit %}
    <a  data-toggle="modal" data-target="#kang" id="one" class="btn btn-primary"  href="#">增加课程</a>
{% endblock %}
{% block content %}
    <div class="modal fade" id="kang" tabindex="-1" role="dialog" aria-labelledby="mykang" aria-hidden="false">
        <div class="modal-dialog" >
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="mykang" style="color: #1c294e;margin-left: 200px">增加课程</h5>
              <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
              </button>
            </div>
              <form action="#" method="post">
                   {{ course_form.csrf_token }}
                <div>
                    {{ course_form.label }}
                <br>
                </div>
                <div>
                     {{ course_form.description }}
                    <br>
                </div>
                <div class="modal-footer">
                  <input class="btn btn-primary form-control" type="submit"  value="提交">
                </div>
              </form>
              </div>
        </div>
  </div>
     <div class="card shadow mb-4">
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>课程名:</th>
                      <th>课程的描述:</th>
                      <th>操作</th>
                    </tr>
                  </thead>
                  <tfoot>
                    {% for foo in course_listed %}
                    <tr>
                      <th>{{ foo.label }}</th>
                      <th>{{ foo.description }}</th>
                      <input type="hidden" class="two" id="two" value="{{ foo.id }}">
                      <th style="text-align: center">
                          <a class="btn btn-primary" href="/update_course/?course_id={{ foo.id }}">修改</a>
                          &nbsp;&nbsp;
                         <a class="btn btn-danger" href="/delete_course/?course_id={{ foo.id }}">删除</a>
                      </th>
                    </tr>
                   {% endfor %}
                  </tfoot>
                </table>
              <div class='row'>
              <div class="div col-sm-12 col-md-5">
                  <div class="dataTables_info" id="dataTable_info">
                      一共查到{{ pages }}数据|共{{ list_sum }}页|当前是第{{ page_num }}页
                  </div>
              </div>
                <div class="col-sm-12 col-md-7">
                   <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate">
                <ul class="pagination">

                        {% if go_page %}
                        <li class="paginate_button page-item next">
                        <a href="?keyword={{ keywords }}&page_num={{ go_page  }}"  class="page-link" >上一页</a>
                        </li>
                        {% else %}
                         <li class="paginate_button page-item next disabled">
                        <a href=""  class="page-link " >上一页</a>
                        </li>
                        {% endif %}
                    {% for p in page_range %}
                    <li class="paginate_button page-item active">
                        <a href="?keyword={{ keywords }}&page_num={{ p }}" class="page-link">{{ p }}</a>
                    </li>
                    {% endfor %}
                    <li class="paginate_button page-item next">
                        <a href="?keyword={{ keywords }}&page_num={{ next_page }}" class="page-link">下一页</a>
                    </li>
                </ul>
           </div>
        </div>
      <div>

      </div>
    </div>
              </div>
            </div>
          </div>
{% endblock %}